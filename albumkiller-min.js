(function(){function m(){document.querySelector("#contentArea").removeEventListener("DOMSubtreeModified",m);var e=document.querySelectorAll("a.photoTextTitle");e.length==0?setTimeout(m,100):v()}function g(){typeof h=="undefined"?b():w()}function y(){v=y;var e=document.querySelector("a.prev[ajaxify]");e?(document.querySelector("#contentArea").addEventListener("DOMSubtreeModified",m),e.click()):g()}function b(e){v=b;var t=Array.prototype.slice.call(document.querySelectorAll("a.photoTextTitle"));c=c.concat(t),h=c.length;for(var n=0;n<t.length;++n){var r=document.createElement("li");p.appendChild(r),r.style.textOverflow="ellipsis",r.style.overflow="hidden",r.style.whiteSpace="nowrap";var i=E(t[n]);r.appendChild(i)}var s=document.querySelector("a.next[ajaxify]");s?(document.querySelector("#contentArea").addEventListener("DOMSubtreeModified",m),s.click()):y()}function w(){h==0?(d.disabled=!0,d.style.background="grey",d.style.cursor="default"):(d.disabled=!1,d.style.background="black",d.style.cursor="pointer")}function E(e){var t=document.createElement("a");t.style.textDecoration="none",t.style.color="#444",e.remove=!0;var n=document.createElement("span");t.appendChild(n),n.innerHTML="&#9988;",n.style.display="inline-block",n.style.width="16px";var r=document.createElement("span");return t.appendChild(r),r.appendChild(document.createTextNode(e.text)),t.addEventListener("click",function(){e.remove?(e.remove=!1,n.style.opacity="0",t.style.color="#aaa",--h):(e.remove=!0,n.style.opacity="1",t.style.color="#444",++h),w()}),t}function S(){function t(n){var r=c[n];if(!r){e&&e.close(),location.reload();return}if(r.remove){e?e.location.href=r.href:e=window.open(r.href,"_removal_helper_window"),i();function i(){var t=e.document.querySelector('a[data-tooltip-content="Delete Album"]');t?setTimeout(function(){t.click(),s()},100):setTimeout(i,250)}function s(){var t=e.document.querySelector("form button[name=confirmed]");t?setTimeout(function(){t.click(),o()},100):setTimeout(s,250)}function o(){var r=e.document.querySelector(".fbStarGrid");r?setTimeout(o,250):t(n+1)}}else t(n+1)}t(0);var e}var e=document.querySelector("body"),t=document.querySelector("a.next"),n=document.querySelector("a.prev"),r=document.querySelectorAll("[name=album_remove_helper]");for(var i=0;i<r.length;++i)e.removeChild(r[i]);var s=document.createElement("div");e.appendChild(s),s.setAttribute("name","album_remove_helper"),s.style.position="fixed",s.style.zIndex="1000",s.style.top="53px",s.style.right="10px",s.style.width="310px",s.style.height="calc(100% - 68px)",s.style.padding="20px",s.style.boxSizing="border-box",s.style.background="white",s.style.boxShadow="1px 1px 6px 1px rgb(21, 21, 100)";var o=document.createElement("h1");s.appendChild(o),o.style.fontSize="28px",o.appendChild(document.createTextNode("Album Killer"));var u=document.createElement("a");s.appendChild(u),u.href="https://meramec.github.io/album_killer/",u.target="_blank",u.style.fontSize="12px",u.appendChild(document.createTextNode("https://meramec.github.io/album_killer/"));var a=document.createElement("a");s.appendChild(a),a.style.borderRadius="50%",a.style.width="16px",a.style.height="16px",a.style.lineHeight="16px",a.style.textAlign="center",a.style.display="block",a.style.position="absolute",a.style.top="8px",a.style.right="8px",a.style.background="grey",a.style.color="white",a.style.cursor="pointer",a.innerHTML="&#10006;",a.addEventListener("click",function(){e.removeChild(s)});if(location.host!="www.facebook.com"&&!location.search.match(/filter=albums/)){var f=document.createElement("div");s.appendChild(f),f.style.color="darkred";var l=document.createElement("p");l.textContent="Error: this app only works on facebook albums.",f.appendChild(l),l=document.createElement("p"),l.textContent="Navigate to your personal or group albums, or visit the album killer homepage for more information,",f.appendChild(l);return}var c=[],h,p=document.createElement("ul");s.appendChild(p),p.style.marginTop="10px",p.style.height="calc(100% - 50px)",p.style.overflow="auto";var d=document.createElement("button");s.appendChild(d),d.disabled=!0,d.style.position="absolute",d.style.bottom="16px",d.style.padding="8px",d.style.width="270px",d.style.border="0",d.style.background="grey",d.style.color="white",d.appendChild(document.createTextNode("Remove All")),d.addEventListener("click",S),y();var v})();