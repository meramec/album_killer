(function(){function p(){document.querySelector("#contentArea").removeEventListener("DOMSubtreeModified",p);var e=document.querySelectorAll("a.photoTextTitle");e.length==0?setTimeout(p,100):h()}function d(){typeof f=="undefined"?m():g()}function v(){h=v;var e=document.querySelector("a.prev[ajaxify]");e?(document.querySelector("#contentArea").addEventListener("DOMSubtreeModified",p),e.click()):d()}function m(e){h=m;var t=Array.prototype.slice.call(document.querySelectorAll("a.photoTextTitle"));a=a.concat(t),f=a.length;for(var n=0;n<t.length;++n){var r=document.createElement("li");l.appendChild(r),r.style.textOverflow="ellipsis",r.style.overflow="hidden",r.style.whiteSpace="nowrap";var i=y(t[n]);r.appendChild(i)}var s=document.querySelector("a.next[ajaxify]");s?(document.querySelector("#contentArea").addEventListener("DOMSubtreeModified",p),s.click()):v()}function g(){f==0?(c.disabled=!0,c.style.background="grey",c.style.cursor="default"):(c.disabled=!1,c.style.background="black",c.style.cursor="pointer")}function y(e){var t=document.createElement("a");t.style.textDecoration="none",t.style.color="#444",e.remove=!0;var n=document.createElement("span");t.appendChild(n),n.innerHTML="&#9988;",n.style.display="inline-block",n.style.width="16px";var r=document.createElement("span");return t.appendChild(r),r.appendChild(document.createTextNode(e.text)),t.addEventListener("click",function(){e.remove?(e.remove=!1,n.style.opacity="0",t.style.color="#aaa",--f):(e.remove=!0,n.style.opacity="1",t.style.color="#444",++f),g()}),t}function b(){function t(n){var r=a[n];if(!r){e&&e.close();return}if(r.remove){e?e.location.href=r.href:e=window.open(r.href,"_removal_helper_window"),i();function i(){var t=e.document.querySelector('a[data-tooltip-content="Delete Album"]');console.log("Click delete",t),t?setTimeout(function(){t.click(),s()},100):setTimeout(i,100)}function s(){var t=e.document.querySelector("form button[name=confirmed]");t?setTimeout(function(){t.click(),o()},100):setTimeout(s,250)}function o(){var r=e.document.querySelector(".fbStarGrid");r?setTimeout(o,250):t(n+1)}}else t(n+1)}t(0);var e}var e=document.querySelector("body"),t=document.querySelector("a.next"),n=document.querySelector("a.prev"),r=document.querySelectorAll("[name=album_remove_helper]");for(var i=0;i<r.length;++i)e.removeChild(r[i]);var s=document.createElement("div");e.appendChild(s),s.setAttribute("name","album_remove_helper"),s.style.position="fixed",s.style.zIndex="1000",s.style.top="53px",s.style.right="10px",s.style.width="310px",s.style.height="calc(100% - 68px)",s.style.padding="20px",s.style.boxSizing="border-box",s.style.background="white",s.style.boxShadow="1px 1px 2px 2px rgb(21, 21, 100)";var o=document.createElement("h1");s.appendChild(o),o.fontSize="30px",o.appendChild(document.createTextNode("Album Killer"));var u=document.createElement("a");s.appendChild(u),u.style.borderRadius="50%",u.style.width="16px",u.style.height="16px",u.style.textAlign="center",u.style.display="block",u.style.position="absolute",u.style.top="8px",u.style.right="8px",u.style.background="grey",u.style.color="white",u.innerHTML="&times;",u.addEventListener("click",function(){e.removeChild(s)});var a=[],f,l=document.createElement("ul");s.appendChild(l),l.style.height="calc(100% - 50px)",l.style.overflow="auto";var c=document.createElement("button");s.appendChild(c),c.disabled=!0,c.style.position="absolute",c.style.bottom="16px",c.style.padding="8px",c.style.width="270px",c.style.border="0",c.style.background="grey",c.style.color="white",c.appendChild(document.createTextNode("Remove All")),c.addEventListener("click",b),v();var h})();